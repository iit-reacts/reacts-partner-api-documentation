<!DOCTYPE html><html lang="en-US"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><title>Single Sign-On - Reacts Partner Documentation</title><link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"><link rel="stylesheet" href="/assets/css/just-the-docs.css"> <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/assets/js/just-the-docs.js"></script><meta name="viewport" content="width=device-width, initial-scale=1"><title>Single Sign-On | Reacts Partner Documentation</title><meta name="generator" content="Jekyll v3.8.5" /><meta property="og:title" content="Single Sign-On" /><meta property="og:locale" content="en_US" /><meta name="description" content="This is the documentation provided to Partners so they can integrate with the Reacts" /><meta property="og:description" content="This is the documentation provided to Partners so they can integrate with the Reacts" /><link rel="canonical" href="http://0.0.0.0:4000/docs/sso/" /><meta property="og:url" content="http://0.0.0.0:4000/docs/sso/" /><meta property="og:site_name" content="Reacts Partner Documentation" /> <script type="application/ld+json"> {"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://0.0.0.0:4000/assets/images/reacts-logo-2.png"}},"description":"This is the documentation provided to Partners so they can integrate with the Reacts","@type":"WebPage","url":"http://0.0.0.0:4000/docs/sso/","headline":"Single Sign-On","@context":"https://schema.org"}</script><link rel="stylesheet" type="text/css" href="/swagger-ui/swagger-ui.css" ><style> .information-container { display: none } .filter-container { display: none } .topbar-wrapper img[alt="Swagger UI"] { display: none; }</style><script src="/swagger-ui/swagger-ui-bundle.js"> </script> <script src="/swagger-ui/swagger-ui-standalone-preset.js"> </script> <script> function loadSwaggerUi(url, domId, tag) { var apis = [ { url: url, name: 'Staging' }, { url: 'https://svc.iitreacts.com/swagger/docs/v1/', name: 'Production' } ]; const ui = SwaggerUIBundle({ url: url, urls: apis, dom_id: "#"+domId, deepLinking: true, defaultModelsExpandDepth: -1, filter: tag, presets: [ SwaggerUIBundle.presets.apis, SwaggerUIStandalonePreset ], plugins: [ SwaggerUIBundle.plugins.DownloadUrl ], layout: "StandaloneLayout" }); var originalAuthorize = ui.authActions.authorize; ui.authActions.authorize = function (authorization) { authorization.apiKey.value = "Bearer " + authorization.apiKey.value; console.log("authorized with bearer token : " + authorization.apiKey.value); originalAuthorize(authorization); }; var urlParams = new URLSearchParams(window.location.search); var jwt = urlParams.get('jwt'); if (jwt) { ui.authActions.authorize({ apiKey: { name: "apiKey", schema: { type: "apiKey", in: "header", name: "Authorization", description: "" }, value: jwt } }); } window.ui = ui; } </script> <script type="text/javascript" src="/assets/js/vendor/smooth-scroll.polyfills.min.js"></script><body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="link" viewBox="0 0 16 16"><title>Link</title><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path> </symbol> </svg><div class="page-wrap"><div class="side-bar"><div class="site-header"> <a href="http://0.0.0.0:4000" class="site-title lh-tight"><div class="site-logo"></div></a> <button class="menu-button fs-3 js-main-nav-trigger" data-text-toggle="Hide" type="button">Menu</button></div><div class="navigation main-nav js-main-nav"><nav role="navigation" aria-label="Main navigation"><ul class="navigation-list"><li class="navigation-list-item"><a href="/" class="navigation-list-link">Home</a><li class="navigation-list-item"><a href="/docs/quickstart/" class="navigation-list-link">Quickstart</a><li class="navigation-list-item"><a href="/docs/authentication/" class="navigation-list-link">Authentication</a><li class="navigation-list-item"><a href="/docs/api" class="navigation-list-link">API</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="/docs/api/account/" class="navigation-list-link">Account</a><li class="navigation-list-item "><a href="/docs/api/events/" class="navigation-list-link">Events</a></ul><li class="navigation-list-item"><a href="/docs/webhooks" class="navigation-list-link">Webhooks</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="/docs/webhooks/events/" class="navigation-list-link">Events</a><li class="navigation-list-item "><a href="/docs/webhooks/swagger/" class="navigation-list-link">Swagger</a></ul><li class="navigation-list-item active"><a href="/docs/sso/" class="navigation-list-link active">Single Sign-On</a></ul></nav></div><footer class="site-footer"><p class="text-small text-grey-dk-000 mb-4"> v. 1.0.0</p></footer></div><div class="main-content-wrap js-main-content" tabindex="0"><div class="main-content"><div class="page-header js-page-header"><div class="search"><div class="search-input-wrap"> <input type="text" class="js-search-input search-input" tabindex="0" placeholder="Search Reacts Partner Documentation" aria-label="Search Reacts Partner Documentation" autocomplete="off"> <svg width="14" height="14" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" class="search-icon"><title>Search</title><g fill-rule="nonzero"><path d="M17.332 20.735c-5.537 0-10-4.6-10-10.247 0-5.646 4.463-10.247 10-10.247 5.536 0 10 4.601 10 10.247s-4.464 10.247-10 10.247zm0-4c3.3 0 6-2.783 6-6.247 0-3.463-2.7-6.247-6-6.247s-6 2.784-6 6.247c0 3.464 2.7 6.247 6 6.247z"/><path d="M11.672 13.791L.192 25.271 3.02 28.1 14.5 16.62z"/></g></svg></div><div class="js-search-results search-results-wrap"></div></div><ul class="list-style-none text-small aux-nav"><li class="d-inline-block my-0"><a href="https://reacts.zendesk.com/hc/en-us/requests/new">Submit a ticket</a></ul></div><div class="page"><div id="main-content" class="page-content" role="main"><h1 class="no_toc" id="single-sign-on"> <a href="#single-sign-on" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Single Sign-On</h1><h2 class="no_toc text-delta" id="table-of-contents"> <a href="#table-of-contents" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Table of contents</h2><ul id="markdown-toc"><li><a href="#purpose" id="markdown-toc-purpose">Purpose</a><li><a href="#prerequisite" id="markdown-toc-prerequisite">Prerequisite</a><li><a href="#terms-and-actors" id="markdown-toc-terms-and-actors">Terms and Actors</a><li><a href="#sso-integration-flow" id="markdown-toc-sso-integration-flow">SSO Integration Flow</a><li><a href="#references" id="markdown-toc-references">References</a></ul><h2 id="purpose"> <a href="#purpose" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Purpose</h2><p>The purpose of this document is to describe the Single Sign-On (SSO) capabilities Reacts supports and the steps necessary to integrate your Identity Provider (IdP) with Reacts. The document is created for Developers, System Administrators or staff knowledgeable about SSO administration. The end goal is to allow a user that is registered in the partner system to seamlessly be transferred to the Reacts system so he/she can start communicating and collaborating with others without having to re-enter his/her credentials.</p><h2 id="prerequisite"> <a href="#prerequisite" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Prerequisite</h2><p><strong>OpenID Connect protocol</strong></p><p>Reacts uses the OpenID Connect/OAuth2 (OIDC) protocol to accomplish Single Sign-on with different partners. Reacts will act as a Service Provider and allows users to login either via Identity Provider Initiated flows or Service Provider initiated flow.</p><p>From openid.net, “OpenID Connect 1.0 is a simple identity layer on top of the OAuth 2.0 protocol. It allows Clients to verify the identity of the End-User based on the authentication performed by an Authorization Server, as well as to obtain basic profile information about the End-User in an interoperable and REST-like manner.” OIDC builds on the lessons of the early OpenID protocols and SAML2 including:</p><ul><li>keep things simple<li>build on top of OAuth2<li>use easy-to-consume tokens (JWT)</ul><p>OIDC can integrate with</p><ul><li>traditional web applications<li>mobile apps<li>Single Page Applications (SPA apps)<li>server applications<li>most other actors</ul><h2 id="terms-and-actors"> <a href="#terms-and-actors" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Terms and Actors</h2><p>OpenID Connect defines a few terms/actors that play different roles in the protocol. We define them below. ID Token: A JWT token that identifies the user.</p><p>See <a href="http://openid.net/specs/openid-connect-core-1_0.html#IDToken">http://openid.net/specs/openid-connect-core-1_0.html#IDToken</a></p><p><strong>OpenID Provider (OP):</strong> OAuth 2.0 Authorization Server that is capable of Authenticating the End-User and providing Claims to a Relying Party (see below) about the Authentication event and the End-User (per the OIDC spec). In our context, the OP is the partner OpenID provider and is named as Partner IdP in the diagram below. Relying Party (RP): The application requiring End-User Authentication and Claims from an OpenID Provider. The OpenID Provider securely returns the Authentication Response to the application so that it can be relied upon; thus, the application is called a Relying Party in this context. In our context, the RP is the Reacts OpenID Provider and is named as Reacts IdP in the diagram below.</p><p><strong>End-User:</strong> The principal (user) that is authenticated (a human most likely). In our context, the End-User is a user that is registered in the Partner IdP and is trying to login in Reacts</p><p><strong>User Agent:</strong> Something that initiates HTTPS requests and can handle the redirects generated by the Relying Party and OpenID Provider. The User Agent is responsible from receiving the JWT from the OP and pushing it to the RP for validation. The user agent is usually going to be a User Agent or a library that can process the OIDC calls. In our context, the User Agent is the browser and is named as User-Browser in the diagram below.</p><p><strong>Resource Server:</strong> The server hosting the protected resources, capable of accepting and responding to protected resource requests using Access Tokens. The Resource server will allow access to the its resource if the Access token has the necessary scopes. In our context the Resource Server is the Reacts WebAPI.</p><h2 id="sso-integration-flow"> <a href="#sso-integration-flow" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> SSO Integration Flow</h2><p>OIDC defines different flows to achieve authentication. In this document we explain how to achieve the Implicit flow but Reacts IdP supports all the flows define by OIDC specification.</p><p><strong>Implicit Flow</strong></p><p>(<a href="http://openid.net/specs/openid-connect-core-1_0.html">OIDC v1.0 spec</a>, <a href="http://openid.net/specs/openid-connect-core-1_0.html#ImplicitFlowAuth">Section 3.2</a>): It returns the ID Token and optionally an Access Token directly to the user agent as part of the authentication response to the Authorization Endpoint. RPs that use the Implicit Flow can only be public clients (there is no client secret).</p><p><img src="/assets/images/ReactsSSO-implicit.png" alt="" /></p><p>The end user will click the link “Launch Reacts” in a browser (or other User Agent) that makes an initial request to the partner website. The partner website will redirect the user browser to reacts sso link - step [0]. The redirect url on step [1] will look something like this:</p><p><code class="highlighter-rouge">https://www.reacts.com/Account/ExternalLogin?provider=&lt;partnerName&gt;</code></p><p>Reacts Website will intercepts the request and detects that is not part of an authenticated session - step [2]; so, Reacts Website responds to the request with an HTTP Redirect to the Reacts IdP - step [3]. The Reacts IdP (RP) intercepts the request and detects that it is not part of an authenticated session; so, the RP responds to the request with an HTTP Redirect to the Partner IdP (OP) — step [4]. The Authentication Request sent to the partner Authorization Endpoint looks something like the following:</p><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GET https://partner.com/connect/authorize?
  client_id=s6BhdRkqt3
  &amp;redirect_uri=https://identity.reacts.com/signin-oidc
  &amp;response_type=id_token
  &amp;scope=openid profile
  &amp;nonce=636534591111863504
  &amp;state=CfDJ
  &amp;response_mode=form_post
  x-client-ver=2.1.4.0
</code></pre></div></div><p>The partner OP will redirect the User Browser to a login workflow. The details of how the authentication works are outside the scope of the OIDC spec and it might be custom to each partner. The authentication workflow can include the opportunity for the end user to grant consent to the RP to access resources owned by the end user. If user is already login with the Partner IdP user should not be prompt again for its credentials. Following a successful authentication, the OP will send an HTTP Redirect response to return the user to the Authorization Endpoint. The OIDC spec defines 3 different response_mode, the example used on this document is the form_post which is understood to be the most secure since the Token Id never travels in the URI.</p><p>See <a href="https://openid.net/specs/oauth-v2-form-post-response-mode-1_0.html">https://openid.net/specs/oauth-v2-form-post-response-mode-1_0.html</a> for more information. The OP should respond with a page that includes a form that looks like this:</p><div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP/1.1 200 OK
  Content-Type: text/html;charset=UTF-8
  Cache-Control: no-cache, no-store
  Pragma: no-cache

  <span class="nt">&lt;html&gt;</span>
   <span class="nt">&lt;head&gt;&lt;title&gt;</span>Submit This Form<span class="nt">&lt;/title&gt;&lt;/head&gt;</span>
   <span class="nt">&lt;body</span> <span class="na">onload=</span><span class="s">"javascript:document.forms[0].submit()"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;form</span> <span class="na">method=</span><span class="s">"post"</span> <span class="na">action=</span><span class="s">"http://localhost:5000/signin-oidc"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"hidden"</span> <span class="na">name=</span><span class="s">"state"</span>
       <span class="na">value=</span><span class="s">"DcP7csa3hMlvybERqcieLHrRzKBra"</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"hidden"</span> <span class="na">name=</span><span class="s">"id_token"</span>
       <span class="na">value=</span><span class="s">"eyJhbGciOi.removed-for-brevity"</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">'hidden'</span> <span class="na">name=</span><span class="s">'scope'</span> <span class="na">value=</span><span class="s">'openid profile'</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/form&gt;</span>
   <span class="nt">&lt;/body&gt;</span>
  <span class="nt">&lt;/html&gt;</span>
</code></pre></div></div><p>This page when load will auto POST the information to Reacts IdP - step [6], which will be able to validate and authentication the user</p><p>OpenId Connect discovery document can be found here <a href="https://identity.reacts.com/.well-known/openid-configuration">https://identity.reacts.com/.well-known/openid-configuration</a></p><p>As part of the OIDC protocol the Partner IdP should also implement the discovery endpoint since all the information needed for the OIDC can be found on this document. See Section 3 of <a href="https://openid.net/specs/openid-connect-discovery-1_0.html">https://openid.net/specs/openid-connect-discovery-1_0.html</a></p><h2 id="references"> <a href="#references" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> References</h2><ul><li><a href="http://openid.net/connect/">http://openid.net/connect/</a><li><a href="https://medium.com/@robert.broeckelmann/saml-v2-0-vs-jwt-series-550551f4eb0d">https://medium.com/@robert.broeckelmann/saml-v2-0-vs-jwt-series-550551f4eb0d</a><li><a href="http://identityserver.io/">http://identityserver.io/</a> OIDC consists of the <a href="http://openid.net/connect/">following specifications</a> (from openid.net):<ul><li><a href="http://openid.net/specs/openid-connect-core-1_0.html">Core</a> (required): core OIDC functionality: authentication built on top of OAuth 2.0 and the use of Claims to communicate end-user information.<li><a href="http://openid.net/specs/openid-connect-discovery-1_0.html">Discovery</a> (optional): How Clients dynamically discover information about OpenID Providers (ie, Authorization Servers or Identity Providers).<li><a href="http://openid.net/specs/openid-connect-registration-1_0.html">Dynamic Registration</a> (optional): how clients dynamically register with OpenID Providers.<li><a href="http://openid.net/specs/oauth-v2-multiple-response-types-1_0.html">OAuth 2.0 Multiple Response Types</a> (required): Defines several specific new OAuth 2.0 response types.<li><a href="http://openid.net/specs/oauth-v2-form-post-response-mode-1_0.html">OAuth 2.0 Form Post Response Mode</a> (Optional): Defines how to return OAuth 2.0 Authorization Response parameters (including OIDC Authentication Response parameters) using HTML form values that are auto-submitted by the User Agent using HTTP POST<li><a href="http://openid.net/specs/openid-connect-session-1_0.html">Session Management</a> (Optional): Defines how to manage OIDC sessions, including post Message-based logout functionality<li><a href="http://openid.net/specs/openid-connect-frontchannel-1_0.html">Front-Channel Logout</a> (Optional): Defines a front-channel logout mechanism that does not use an OP iframe on RP pages<li><a href="http://openid.net/specs/openid-connect-backchannel-1_0.html">Back-Channel Logout</a> (Optional): Defines a logout mechanism that uses back-channel communication between the OP and RPs being logged out. Two implementer’s guides are also available to serve as self-contained references for implementers of basic Web-based Relying Parties:<li><a href="http://openid.net/specs/openid-connect-basic-1_0.html">Basic Client Implementer’s Guide</a>: Simple subset of the Core functionality for a web-based Relying Party using the OAuth code flow<li><a href="http://openid.net/specs/openid-connect-implicit-1_0.html">Implicit Client Implementer’s Guide</a>: Simple subset of the Core functionality for a web-based Relying Party using the OAuth Implicit Flow Also, a protocol migration specification is available:<li><a href="http://openid.net/specs/openid-connect-migration-1_0.html">OpenID 2.0 to OpenID Connect Migration 1.0</a>: Defines how to migrate from OpenID 2.0 to OIDC</ul></ul><hr><footer role="contentinfo"><p class="text-small text-grey-dk-000 mb-0">© 2020 INNOVATIVE IMAGING TECHNOLOGIES INC. and Reacts®. All Rights Reserved.</p></footer></div></div></div></div>
